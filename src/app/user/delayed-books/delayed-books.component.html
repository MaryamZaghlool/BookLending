<section class="container mx-auto my-8 p-6 bg-white shadow rounded">
  <h2 class="text-2xl font-semibold text-red-700 mb-4">‚è∞ Delayed Books</h2>

  <app-spinner *ngIf="isLoading" class="flex justify-center items-center h-64"></app-spinner>

  <div *ngIf="!isLoading && delayedBooks.length === 0" class="text-center text-gray-400">
    üéâ No delayed books! All returns are on time.
  </div>

  <div *ngIf="!isLoading && delayedBooks.length > 0" class="overflow-x-auto">
    <table class="min-w-full table-auto border border-gray-200">
      <thead class="bg-red-100 text-red-700">
        <tr>
          <th class="px-4 py-2">Title</th>
          <th class="px-4 py-2">User ID</th>
          <th class="px-4 py-2">Borrow Date</th>
          <th class="px-4 py-2">Due Date</th>
          <th class="px-4 py-2">Status</th>
        </tr>
      </thead>
      <tbody>
        @for (book of delayedBooks; track $index) {
          <tr class="border-b hover:bg-red-50">
            <td class="px-4 py-2 font-medium text-gray-700">{{ book.bookTitle }}</td>
            <td class="px-4 py-2 text-sm text-gray-500">{{ book.userId }}</td>
            <td class="px-4 py-2 text-sm">{{ book.borrowDate | date:'short' }}</td>
            <td class="px-4 py-2 text-sm text-red-600 font-bold">{{ book.dueDate | date:'short' }}</td>
            <td class="px-4 py-2 text-sm text-yellow-600 font-semibold">Delayed</td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</section>
